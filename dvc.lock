schema: '2.0'
stages:
  preprocess:
    cmd: python src/pipeline/preprocess.py --params src/pipeline/params.yaml
    deps:
    - path: ./data/ChinaSet_AllFiles
      hash: md5
      md5: 94fdfe6ad2e20ad94c246a1e57e35b1b.dir
      size: 3784806008
      nfiles: 1893
    - path: ./data/MontgomerySet
      hash: md5
      md5: f9e470eb0a5a0ee3871b1e124778fae1.dir
      size: 618654288
      nfiles: 557
    params:
      src/pipeline/params.yaml:
        dataset.data_dir: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data
        dataset.montgomery_image_path: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data/MontgomerySet/CXR_png
        dataset.montgomery_mask_path: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data/MontgomerySet/ManualMask
        dataset.shenzen_image_path: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data/ChinaSet_AllFiles/CXR
        dataset.shenzen_mask_path: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data/ChinaSet_AllFiles/CXR_segs
    outs:
    - path: ./data/datalist.csv
      hash: md5
      md5: c9b7475676b45eda0a294fdd54ed5203
      size: 206579
  train:
    cmd: python src/pipeline/train_dvc.py --params src/pipeline/params.yaml
    deps:
    - path: ./data/datalist.csv
      hash: md5
      md5: c9b7475676b45eda0a294fdd54ed5203
      size: 206579
    params:
      src/pipeline/params.yaml:
        dataset.data_dir: C:\Users\sadhana.ravikumar\Documents\LungAirProject\MLOps_Tutorial_Feb2024\data
        dataset.num_workers: 0
        network_parameter.input_size:
        - 512
        - 512
        network_parameter.num_classes: 2
        training_parameter.batch_size: 4
        training_parameter.learning_rate: 0.002
